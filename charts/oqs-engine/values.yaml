replicaCount: 1

#fullnameOverride: oqsengine

image:
  repository: registry.cn-hangzhou.aliyuncs.com/xf-bm-xplat-msg/xplat-meta-oqsengine-boot
  # default .Chart.Version
  #tag: "2019.11.26-160902-develop"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port:
    http: 8086
    grpc: 8081

ingress:
  enabled: false
  annotations: {}
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"
  path: /
  hosts:
    - chart-example.local
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

resources:
  limits:
    cpu: 2000m
    memory: 2048Mi
  requests:
    cpu: 500m
    memory: 1024Mi

nodeSelector: {}

tolerations: []

affinity-enabled: false
affinity: {}

annotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8086"
  prometheus.io/path: "/actuator/prometheus"

jvm:
  - -server
  - -version:gc
  - -XX:+UseParallelGC
  - -XX:+PrintGCTimeStamps

environment:
  - JVM_HEAP_PERCENTAGE: 60

logger:
  level: INFO

storage:
  threadPool:
    # 0 or not exist use cpu core + 1
    size: 0
  transaction:
    # The transaction is valid for a period of time that will be rollback.
    timeoutMs: 3000
  timeoutMs:
    query: 3000
  master:
    name: "oqsbigentity"
    shard:
      table:
        # Whether sub-tables are needed and the number of sub-tables.
        enabled: true
        size: 1
  index:
    name: "oqsindex"
  undo:
    store: "simple"

# datasource json config
# Multiple data sources are separated by Numbers.
datasource:
  master: |-
    {
      driverClassName: "com.mysql.cj.jdbc.Driver"
      jdbcUrl: "jdbc:mysql://120.55.249.44:23112/oqsengine?useUnicode=true&serverTimezone=GMT&useSSL=false&characterEncoding=utf8"
      password: "root"
      username: "azYBG3RW9N"
    }
  index:
    # Note that the url of the index must take the following parameters.
    # maxAllowedPacket=512000&useHostsInPrivileges=false&useLocalSessionState=true&serverTimezone=Asia/Shanghai
    write: |-
      {
        driverClassName: "com.mysql.cj.jdbc.Driver"
        jdbcUrl: "jdbc:mysql://120.55.249.44:23113/oqsengine?characterEncoding=utf8&maxAllowedPacket=512000&useHostsInPrivileges=false&useLocalSessionState=true&serverTimezone=Asia/Shanghai"
        password: "root"
        username: "root"
      }
    search: |-
      {
        driverClassName: "com.mysql.cj.jdbc.Driver"
        jdbcUrl: "jdbc:mysql://120.55.249.44:23113/oqsengine?characterEncoding=utf8&maxAllowedPacket=512000&useHostsInPrivileges=false&useLocalSessionState=true&serverTimezone=Asia/Shanghai"
        password: "root"
        username: "root"
      }